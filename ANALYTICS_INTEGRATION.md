# üéØ Telegram Analytics SDK Integration

## ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞

### –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- **NPM –ø–∞–∫–µ—Ç**: `@telegram-apps/analytics`
- **SDK —Ç–æ–∫–µ–Ω**: `eyJhcHBfbmFtZSI6ImlzcGVlY2hfaGVscGVyIi...`
- **Analytics ID**: `ispeech_helper`
- **–î–æ–º–µ–Ω**: `https://i-speech-helper-uce4.vercel.app`

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è:

#### üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
- **app-init** - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **app-open** - –û—Ç–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **page-view** - –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç—Ä–∞–Ω–∏—Ü (home, progress, assistant, functions, account)

#### üéÆ –°–æ–±—ã—Ç–∏—è —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π
- **exercise-started** - –ù–∞—á–∞–ª–æ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
- **exercise-completed** - –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è —Å –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é
- **feature-used** - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π

#### ‚öôÔ∏è –°–æ–±—ã—Ç–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
- **settings-changed** - –ò–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- **user-action** - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è

### –§–∞–π–ª—ã —Å –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π:

#### `/src/services/analytics.js`
- –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è UUID –¥–ª—è session_id
- –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ Telegram WebApp
- –ú–µ—Ç–æ–¥—ã –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —Å–æ–±—ã—Ç–∏–π

#### `/src/App.js`
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è SDK –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è app-init

#### `/src/components/Root.js`
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è app-open

#### `/src/components/NavigationBar.js`
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ (page-view)

#### `/src/components/SmoothReader.js`
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –Ω–∞—á–∞–ª–∞ –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è "–ü–ª–∞–≤–Ω–æ–µ —á—Ç–µ–Ω–∏–µ"

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–±—ã—Ç–∏—è:
```json
{
  "event_name": "app-init",
  "session_id": "uuid-session-id",
  "user_id": 123456789,
  "app_name": "ispeech_helper",
  "is_premium": false,
  "platform": "tdesktop",
  "locale": "ru",
  "client_timestamp": "1743503599534",
  "url_referer": "https://i-speech-helper-uce4.vercel.app",
  "start_param": "",
  "custom_data": {}
}
```

### API Endpoints:
- **URL**: `https://tganalytics.xyz/events`
- **Method**: POST
- **Headers**: 
  - `TGA-Auth-Token`: SDK —Ç–æ–∫–µ–Ω
  - `Content-Type`: application/json

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:
1. –°–æ–±—ã—Ç–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
2. –õ–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞: "Analytics event tracked"
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –±–æ—Ç–∞ Telegram Analytics

### –ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é:
- ‚úÖ SDK –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
- ‚úÖ –°–æ–±—ã—Ç–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚úÖ –°–µ—Ä–≤–∏—Å –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ —Å–æ–∑–¥–∞–Ω
- ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–±—Ä–∞–Ω–æ

### –†–∞–∑–º–µ—Ä bundle:
- –£–≤–µ–ª–∏—á–µ–Ω–∏–µ: +21.91 kB (gzipped)
- –ò—Ç–æ–≥–æ: 378.97 kB

---

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: https://docs.tganalytics.xyz/
**–°—Ç–∞—Ç—É—Å**: –ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É ‚úÖ 