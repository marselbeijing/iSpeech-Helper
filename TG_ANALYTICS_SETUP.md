# TG Analytics Setup –¥–ª—è iSpeech Helper

## üö® –û–ö–û–ù–ß–ê–¢–ï–õ–¨–ù–´–ô –°–¢–ê–¢–£–°: –û–¢–ö–õ–Æ–ß–ï–ù–û

TG Analytics **–æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω** –ø–æ—Å–ª–µ –≤—Å–µ—Ö –ø–æ–ø—ã—Ç–æ–∫ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è.

## üìã –ü—Ä–æ–≤–µ–¥–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

### ‚úÖ –ü–æ–ø—ã—Ç–∫–∞ 1: –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã
- –ü–æ–ª—É—á–∏–ª–∏ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π SDK Auth token –æ—Ç @DataChief_bot
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –û—à–∏–±–∫–∞ 400 –æ—Å—Ç–∞–ª–∞—Å—å

### ‚úÖ –ü–æ–ø—ã—Ç–∫–∞ 2: –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
- –ò—Å–ø—Ä–∞–≤–∏–ª–∏ —Å–æ–≥–ª–∞—Å–Ω–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏  
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ `onload="initAnalytics()"`
- –î–æ–±–∞–≤–∏–ª–∏ –≥–ª–æ–±–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –û—à–∏–±–∫–∞ 400 –æ—Å—Ç–∞–ª–∞—Å—å

### ‚ùå –í—ã–≤–æ–¥—ã:

–ü—Ä–æ–±–ª–µ–º–∞ **–ù–ï** –≤ –Ω–∞—à–µ–º –∫–æ–¥–µ:
- ‚úÖ –¢–æ–∫–µ–Ω –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –æ—Ç @DataChief_bot
- ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ–≥–ª–∞—Å–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- ‚úÖ –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
- ‚ùå –°–µ—Ä–≤–µ—Ä `tganalytics.xyz/events` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 400

## üéØ –û–ö–û–ù–ß–ê–¢–ï–õ–¨–ù–û–ï –†–ï–®–ï–ù–ò–ï:

**TG Analytics –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–∫–ª—é—á–µ–Ω** –≤ `public/index.html`:
```javascript
const DISABLE_TG_ANALYTICS = true; // –û–ö–û–ù–ß–ê–¢–ï–õ–¨–ù–û –û–¢–ö–õ–Æ–ß–ï–ù–û
```

## ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –ë–ï–ó TG Analytics:

- ‚úÖ **–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç** –∏–¥–µ–∞–ª—å–Ω–æ
- ‚úÖ **TON Connect –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω**
- ‚úÖ **Telegram WebApp API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è**
- ‚úÖ **–ù–∏–∫–∞–∫–∏—Ö –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫**
- ‚úÖ **–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º** Telegram Mini Apps

## üìû –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏:

**TG Analytics –ù–ï —è–≤–ª—è–µ—Ç—Å—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º** –¥–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏ Telegram Mini Apps. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≤—Å–µ–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º.

## üìã –î–∞–Ω–Ω—ã–µ –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏:

- **Analytics identifier**: `ispeech_helper_analytics`
- **SDK Auth token**: `eyJhcHBfbmFtZSI6ImlzcGVlY2hfaGVscGVyX2FuYWx5dGljcyIsImFwcF91cmwiOiJodHRwczovL3QubWUvaVNwZWVjaEhlbHBlcl9ib3QiLCJhcHBfZG9tYWluIjoiaHR0cHM6Ly9pLXNwZWVjaC1oZWxwZXItdWNlNC52ZXJjZWwuYXBwIn0=!j9+Ln94Vror//YszMapC2bBcM7JNJ3tyOVLFnAUI7xg=`
- **Domain**: `https://i-speech-helper-uce4.vercel.app`
- **Bot URL**: `https://t.me/iSpeechHelper_bot`
- **GitHub**: `https://github.com/marselbeijing/iSpeech-Helper.git`

## üöÄ –ì–û–¢–û–í–û –ö –ü–û–î–ê–ß–ï –ù–ê –ú–û–î–ï–†–ê–¶–ò–Æ! 

## ‚úÖ **–ù–û–í–´–ô –ü–û–î–•–û–î: –°–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è API**

–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è **–ø–æ–ª–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API** –æ—Ç `https://tganalytics.xyz/docs` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ **—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è** TG Analytics –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏.

## üéØ **–ü—Ä–æ–±–ª–µ–º–∞ —Å –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π:**

–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ `tganalytics.xyz/index.js` –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–ª–∞ –∑–∞–ø—Ä–æ—Å—ã, —á—Ç–æ –≤—ã–∑—ã–≤–∞–ª–æ –æ—à–∏–±–∫–∏ 400.

## ‚úÖ **–†–µ—à–µ–Ω–∏–µ: Custom TG Analytics**

### üìã **–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**

1. **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏**: `TGA-Auth-Token` —Å–æ–≥–ª–∞—Å–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
2. **–ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç**: –°–æ–±—ã—Ç–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ –º–∞—Å—Å–∏–≤–µ 
3. **–ü–æ–ª–Ω–∞—è —Å—Ö–µ–º–∞**: –í—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è —Å–æ–≥–ª–∞—Å–Ω–æ API
4. **UUID session_id**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞
5. **–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**: –î–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –æ—à–∏–±–æ–∫

### üîß **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**

```javascript
// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
window.telegramAnalytics = new CustomTGAnalytics(config);

// –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–±—ã—Ç–∏–π
window.telegramAnalytics.track('app-init');
window.telegramAnalytics.track('connection-started', customData);
```

### üìä **–û—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ:**

```json
{
  "event_name": "app-init",
  "session_id": "uuid-generated",
  "user_id": 12345,
  "app_name": "ispeech_helper_analytics", 
  "is_premium": false,
  "platform": "tdesktop",
  "locale": "en",
  "start_param": "",
  "client_timestamp": "1743503599534",
  "url_referer": "https://i-speech-helper-uce4.vercel.app",
  "scope": "miniapp",
  "custom_data": {}
}
```

### üîç **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –æ—à–∏–±–æ–∫:**

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –æ—à–∏–±–æ–∫ API:
- **400**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω, app_name, –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–µ–π
- **403**: –î–æ–º–µ–Ω –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–æ–∫–µ–Ω—É  
- **429**: –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤

## üìã **–î–∞–Ω–Ω—ã–µ –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏:**

- **Analytics identifier**: `ispeech_helper_analytics`
- **SDK Auth token**: `eyJhcHBfbmFtZSI6ImlzcGVlY2hfaGVscGVyX2FuYWx5dGljcyIsImFwcF91cmwiOiJodHRwczovL3QubWUvaVNwZWVjaEhlbHBlcl9ib3QiLCJhcHBfZG9tYWluIjoiaHR0cHM6Ly9pLXNwZWVjaC1oZWxwZXItdWNlNC52ZXJjZWwuYXBwIn0=!j9+Ln94Vror//YszMapC2bBcM7JNJ3tyOVLFnAUI7xg=`
- **API URL**: `https://tganalytics.xyz/events`
- **Domain**: `https://i-speech-helper-uce4.vercel.app`
- **Bot URL**: `https://t.me/iSpeechHelper_bot`
- **GitHub**: `https://github.com/marselbeijing/iSpeech-Helper.git`

## üöÄ **–ì–û–¢–û–í–û –ö –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ!**

### ‚úÖ **–ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞:**

1. **–°–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è TG Analytics API** —Å–æ–≥–ª–∞—Å–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
2. **TON Connect –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** —Å —Å–æ–±—ã—Ç–∏—è–º–∏:
   - `connection-started` - –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –º–æ–¥–∞–ª–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
   - `connection-completed` - –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫–æ—à–µ–ª—å–∫–∞
   - `connection-error` - –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
   - `disconnection` - –ø—Ä–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏–∏ –∫–æ—à–µ–ª—å–∫–∞
   - `transaction-sent-for-signature` - –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–∞ –ø–æ–¥–ø–∏—Å—å
   - `transaction-signed` - —É—Å–ø–µ—à–Ω–∞—è –ø–æ–¥–ø–∏—Å—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
   - `transaction-signing-failed` - –æ—à–∏–±–∫–∞ –ø–æ–¥–ø–∏—Å–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

3. **Telegram WebApp —Å–æ–±—ã—Ç–∏—è**:
   - `app-init` - –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   - `app-hide` - –ø—Ä–∏ —Å–∫—Ä—ã—Ç–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

4. **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –ø–∞–∫–µ—Ç–æ–≤**:
   - `@tonconnect/sdk@3.0.5`
   - `@tonconnect/ui-react@2.0.5`

### üìã **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ:**

–í—Å–µ TON Connect —Å–æ–±—ã—Ç–∏—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ `TonConnectProvider` –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ TG Analytics —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –æ –∫–æ—à–µ–ª—å–∫–µ, –≤–µ—Ä—Å–∏—è—Ö SDK –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

–°–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–æ–≥–ª–∞—Å–Ω–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API. 